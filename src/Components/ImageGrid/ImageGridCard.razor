@namespace MikeCodesDotNET.Components

@using MikeCodesDotNET.Models



@if (Image != null)
{
    <ContextMenuTrigger MenuId="@ContextMenuId" Id="@Image.Url.ToString()">
        <div class="card img-card @(@IsSelected == true ? "active" : null)" style="width: @Width">
            <img class="card-img-top" src="@Image.Url" alt="">
            <div class="card-body" style="padding: 1rem;" >
                <h6 class="card-title text-center" style="margin-bottom: 0rem; margin-top: 5px;">@Image.FileName</h6>
                <a style="height=0;" class="stretched-link" @onclick="async () => { IsSelected = !IsSelected; await OnSelectionChanged.InvokeAsync(IsSelected);}"></a>
            </div>
        </div>
    </ContextMenuTrigger>
}


@code {

    [Parameter]
    public Image Image { get; set; }

    [Parameter]
    public bool IsSelected { get; set; }

    [Parameter]
    public string ContextMenuId { get; set; } = string.Empty;

    [Parameter]
    public EventCallback<bool> OnSelectionChanged { get; set; }

    [Parameter]
    public string Width { get; set; } = "14rem;";


}
